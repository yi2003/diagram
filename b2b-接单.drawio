<mxfile host="app.diagrams.net" modified="2022-07-18T08:32:05.808Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36" etag="159WuaeLUFQLsLHja3pM" version="20.1.1" type="github">
  <diagram id="6fcMQszWX0c5DgQnWheI" name="Page-1">
    <mxGraphModel dx="1422" dy="1452" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="980" pageHeight="690" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-3" target="1Rcm_KRWIQfJ2-WHhXYL-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-3" value="batchAcceptOrder" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="170" y="-630" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-4" target="1Rcm_KRWIQfJ2-WHhXYL-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-4" value="doAcceptOrder" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="180" y="-520" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-6" target="jJgt8s2uA7EtH4VzfO9X-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-6" value="获取库存记录信息:StorageStockPo" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="125" y="-450" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-8" target="1Rcm_KRWIQfJ2-WHhXYL-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-8" value="创建出库单 createOutStorageBill" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="135" y="-300" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-10" target="1Rcm_KRWIQfJ2-WHhXYL-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-10" value="&lt;div&gt;创建出库单据&lt;/div&gt;&lt;div&gt;StoreBillSevcie createOutStorageBill&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="120" y="-195" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-12" target="1Rcm_KRWIQfJ2-WHhXYL-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="-55" />
              <mxPoint x="360" y="-615" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-12" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;获取聚集库存&lt;/div&gt;&lt;div&gt;StorageStockSumPo&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="165" y="-85" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-14" target="1Rcm_KRWIQfJ2-WHhXYL-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-14" value="&lt;div&gt;po库存&lt;/div&gt;&lt;div&gt;StorageStockPo&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="390" y="-635" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-16" target="1Rcm_KRWIQfJ2-WHhXYL-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-16" value="&lt;div&gt;po库存&lt;/div&gt;&lt;div&gt;StorageStockPo&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="390" y="-515" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-18" target="1Rcm_KRWIQfJ2-WHhXYL-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-18" value="&lt;div&gt;冻结库存&lt;/div&gt;&lt;div&gt;FROZEN_STOCK&lt;/div&gt;&lt;div&gt;frozenStock&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="385" y="-410" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-20" target="1Rcm_KRWIQfJ2-WHhXYL-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-20" value="&lt;div&gt;&lt;div&gt;更新&lt;/div&gt;&lt;div&gt;StorageStockSumPo&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;冻结库存,&lt;span style=&quot;font-family: , monospace ; font-size: 9.8pt ; color: rgb(98 , 151 , 85) ; font-style: italic&quot;&gt;实际库存&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="380" y="-260" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-22" target="1Rcm_KRWIQfJ2-WHhXYL-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="-90" />
              <mxPoint x="550" y="-615" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-22" value="冻结PO库存&#xa;frozenPOStock&#xa;更新&#xa;StorageStockPo&#xa;冻结库存,实际库存" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="385" y="-130" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-24" target="1Rcm_KRWIQfJ2-WHhXYL-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-24" value="&lt;div&gt;&lt;span&gt;添加StorageStockBillPo記錄&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="650" y="-630" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-26" target="1Rcm_KRWIQfJ2-WHhXYL-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-26" value="添加出库单&amp;nbsp;ScmStorageBill, ScmStorageDetailPo" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="595" y="-515" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1Rcm_KRWIQfJ2-WHhXYL-28" target="jJgt8s2uA7EtH4VzfO9X-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1Rcm_KRWIQfJ2-WHhXYL-28" value="&lt;div&gt;事务提交成功之后,发送出入库单状态变更消息&lt;/div&gt;&lt;div&gt;sendStorageBillStatusChangeMsg&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" parent="1" vertex="1">
          <mxGeometry x="605" y="-420" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jJgt8s2uA7EtH4VzfO9X-1" target="jJgt8s2uA7EtH4VzfO9X-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-1" value="&lt;div&gt;&lt;div&gt;acceptOrder&lt;/div&gt;&lt;div&gt;订单状态改成：确认发货&lt;/div&gt;&lt;div&gt;接单时间 ：当前&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" vertex="1" parent="1">
          <mxGeometry x="655" y="-320" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jJgt8s2uA7EtH4VzfO9X-3" target="jJgt8s2uA7EtH4VzfO9X-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-3" value="&lt;div&gt;&lt;div&gt;选择的货主&lt;/div&gt;&lt;div&gt;如果po单有货主，用po单货主&lt;/div&gt;&lt;div&gt;否刚用authmapping货主&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};direction=west;" vertex="1" parent="1">
          <mxGeometry x="645" y="-200" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jJgt8s2uA7EtH4VzfO9X-10" target="1Rcm_KRWIQfJ2-WHhXYL-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="240" y="-330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-10" value="根据供应商id, 平台， 仓库编号返回authmapping" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="-380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="jJgt8s2uA7EtH4VzfO9X-12" target="jJgt8s2uA7EtH4VzfO9X-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-12" value="写入po单记录" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;strokeWidth=1;spacing=4;" vertex="1" parent="1">
          <mxGeometry x="685" y="-90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jJgt8s2uA7EtH4VzfO9X-14" value="写入日志&lt;br&gt;OrderOperateLogPo" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;strokeWidth=1;spacing=4;" vertex="1" parent="1">
          <mxGeometry x="685" y="20" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
